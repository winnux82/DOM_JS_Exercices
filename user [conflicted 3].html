<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>
    <title>Document</title>
</head>


<button id="addUser" type="button" class="btn btn-primary">Ajouter un utilisateur</button>
<br>
<br>
<table id="table" class="table" style="width: 100%;border:1px solid #000">
    <tr>
        <th>firstName</th>
        <th>lastName</th>
        <th>birthday</th>
        <th>action</th>
    </tr>
    <tbody>
        <script type="text/javascript">
            const users = [{
                firstname: 'John',
                lastname: 'Doe',
                birthdate: '2015-07-01'
            }, {
                firstname: 'Bob',
                lastname: 'Maurice',
                birthdate: '2000-07-01'
            }, {
                firstname: 'Maurice',
                lastname: 'Roger',
                birthdate: '1988-07-01'
            }, {
                firstname: 'Sylvain',
                lastname: 'Bernard',
                birthdate: '1900-07-01'
            }, ];

            let i = 0;
            const tbody = document.querySelector("table tbody");
            document.getElementById("addUser").addEventListener("click", function() {
                if (users[i] == null) {
                    return;
                }
                const u = users[i];
                tbody.innerHTML += `
            <tr>
                <td>${u.firstname}</td>
                <td>${u.lastname}</td>
                <td>${u.birthdate}</td>
                <td><button type="button" onclick="suppTr(${i})" class="btn btn-danger">Supprimer</button></td>
            </tr>
            `;
                i++;
            })



            function suppTr(id) {
                let table = document.querySelector('table');
                table.deleteRow(id);
            }

            function toutsupprimer() {

                var monTableau = document.getElementById("table");
                var rowCount = monTableau.rows.length;
                for (var x = rowCount - 1; x > 0; x--) {
                    monTableau.deleteRow(x);
                    //on reset i pour pouvoir remplir Ã  nouveau le tableau
                    i = 0;
                }

            }

            function save() {
                console.log("================================");
            }
        </script>
    </tbody>
</table>
<button type="button" id="alldelete" name="alldelete" class="btn btn-danger" onclick="toutsupprimer()">alldelete</button>


<h2>Ajouter dans le tableau</h2>

<br>Firstname : <input type="text" id="firstname" placeholder="firstname"></input>
<br>Lastname : <input type="text" id="lastname" placeholder="lastname"></input>
<br>birthdate : <input type="text" id="birthday" placeholder="birthday"></input>
<br>
<button type="button" id="Sauver" class="btn btn-danger" onclick="save()">Sauver</button>

</form>
</body>

</html>